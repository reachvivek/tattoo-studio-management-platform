<div class="spin-wheel-container">
  <!-- Background overlay -->
  <div class="overlay"></div>

  <!-- Main content -->
  <div class="content">
    <!-- Title -->
    <h2 class="title">
      <span class="title-highlight">GLÜCKSRAD DREHEN!</span>
      <span class="subtitle">Gewinne jetzt deinen Rabatt!</span>
    </h2>

    <!-- Wheel wrapper with canvas -->
    <div class="wheel-wrapper">
      <!-- Pointer/Arrow at top -->
      <div class="wheel-pointer">
        <svg width="40" height="60" viewBox="0 0 40 60" fill="none">
          <path d="M20 60L40 40L30 40L30 0L10 0L10 40L0 40Z" fill="#059669"/>
        </svg>
      </div>

      <!-- Canvas wheel -->
      <canvas #wheelCanvas class="wheel-canvas" width="400" height="400"></canvas>

      <!-- Center spin button -->
      <button
        *ngIf="!hasSpun"
        class="spin-button"
        [disabled]="angVel > 0"
        (click)="spinWheel()">
        {{ spinButtonText }}
      </button>
    </div>

    <!-- Prize announcement -->
    <div *ngIf="hasSpun" class="prize-announcement">
      <div class="prize-box">
        <div class="prize-icon">
          <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle class="prize-ring-outer" cx="60" cy="60" r="55" stroke="url(#prizeGrad1)" stroke-width="3" fill="none"/>
            <circle cx="60" cy="60" r="45" fill="url(#prizeGrad2)"/>
            <g class="prize-particles">
              <circle cx="30" cy="30" r="3" fill="#FFD700"/>
              <circle cx="90" cy="30" r="3" fill="#10B981"/>
              <circle cx="30" cy="90" r="3" fill="#34D399"/>
              <circle cx="90" cy="90" r="3" fill="#FFD700"/>
            </g>
            <path class="prize-check-path" d="M40 60L52 72L80 44" stroke="#FFFFFF" stroke-width="6"
                  stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <defs>
              <linearGradient id="prizeGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#10B981"/>
                <stop offset="100%" stop-color="#059669"/>
              </linearGradient>
              <radialGradient id="prizeGrad2">
                <stop offset="0%" stop-color="#10B981"/>
                <stop offset="100%" stop-color="#059669"/>
              </radialGradient>
            </defs>
          </svg>
        </div>
        <h3 class="prize-title">HERZLICHEN GLÜCKWUNSCH!</h3>
        <p class="prize-text">Du hast gewonnen:</p>
        <div class="prize-value">{{ prizeText }}</div>
        <p class="prize-info">Dein Gutschein wird dir per E-Mail zugeschickt!</p>
      </div>
    </div>

    <!-- Confetti effect -->
    <div *ngIf="showConfetti" class="confetti-container">
      <div class="confetti" *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]"></div>
    </div>
  </div>
</div>

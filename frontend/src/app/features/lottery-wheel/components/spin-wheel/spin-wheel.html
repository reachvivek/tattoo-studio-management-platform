<div class="spin-wheel-container">
  <!-- Background overlay -->
  <div class="overlay"></div>

  <!-- Main content -->
  <div class="content">
    <!-- Title -->
    <h2 class="title">
      <span class="title-highlight">GLÜCKSRAD DREHEN!</span>
      <span class="subtitle">Gewinne jetzt deinen Rabatt!</span>
    </h2>

    <!-- Wheel wrapper with canvas -->
    <div class="wheel-wrapper">
      <!-- Pointer/Arrow at top -->
      <div class="wheel-pointer">
        <svg width="40" height="60" viewBox="0 0 40 60" fill="none">
          <path d="M20 60L40 40L30 40L30 0L10 0L10 40L0 40Z" fill="#FF3D00"/>
        </svg>
      </div>

      <!-- Canvas wheel -->
      <canvas #wheelCanvas class="wheel-canvas" width="400" height="400"></canvas>

      <!-- Center spin button -->
      <button
        *ngIf="!hasSpun"
        class="spin-button"
        [disabled]="angVel > 0"
        (click)="spinWheel()">
        {{ spinButtonText }}
      </button>
    </div>

    <!-- Prize announcement -->
    <div *ngIf="hasSpun" class="prize-announcement">
      <div class="prize-box">
        <div class="prize-icon">
          <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="32" cy="32" r="28" fill="url(#gradient1)" />
            <path d="M32 12L35.09 24.18L46.39 18.61L42.18 30L54 32L42.18 34L46.39 45.39L35.09 39.82L32 52L28.91 39.82L17.61 45.39L21.82 34L10 32L21.82 30L17.61 18.61L28.91 24.18L32 12Z" fill="#FFD700"/>
            <circle cx="32" cy="32" r="8" fill="#10B981"/>
            <defs>
              <linearGradient id="gradient1" x1="4" y1="4" x2="60" y2="60" gradientUnits="userSpaceOnUse">
                <stop offset="0%" stop-color="#10B981"/>
                <stop offset="100%" stop-color="#34D399"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h3 class="prize-title">HERZLICHEN GLÜCKWUNSCH!</h3>
        <p class="prize-text">Du hast gewonnen:</p>
        <div class="prize-value">{{ prizeText }}</div>
        <p class="prize-info">Dein Gutschein wird dir per E-Mail zugeschickt!</p>
      </div>
    </div>

    <!-- Confetti effect -->
    <div *ngIf="showConfetti" class="confetti-container">
      <div class="confetti" *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]"></div>
    </div>
  </div>
</div>

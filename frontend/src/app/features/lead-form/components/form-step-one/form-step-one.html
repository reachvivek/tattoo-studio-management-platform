<form [formGroup]="leadForm" (ngSubmit)="onSubmit()" class="form-container space-y-8">
    <!-- Name -->
    <div class="form-field" style="margin-bottom: 2rem;">
      <app-input
        label="NAME"
        type="text"
        placeholder="Dein vollständiger Name"
        formControlName="name"
        [required]="true"
        [error]="getErrorMessage('name')"
      ></app-input>
    </div>

    <!-- Tattoo Description -->
    <div class="form-field" style="margin-bottom: 2rem;">
      <label class="form-label-unified" style="margin-bottom: 0.75rem;">
        BESCHREIBE DEIN WUNSCH TATTOO/S
      </label>
      <textarea
        formControlName="tattooDescription"
        placeholder="Beschreibe dein Tattoo so detailliert wie möglich..."
        rows="2"
        class="form-textarea w-full bg-[#1A1A1A] text-white border border-[#333333] rounded-xl
               focus:border-[#FF3D00] focus:ring-2 focus:ring-[#FF3D00]/20 focus:outline-none
               transition-all duration-200 placeholder:text-[#666666] resize-none text-sm sm:text-base"
        style="padding: 0.8rem 1.25rem; height: 5.5rem; min-height: 5.5rem; max-height: 5.5rem;"
      ></textarea>
      <p *ngIf="getErrorMessage('tattooDescription')" class="text-[#F44336] text-xs" style="margin-top: 0.5rem; margin-left: 0.25rem;">
        {{ getErrorMessage('tattooDescription') }}
      </p>
    </div>

    <!-- File Upload -->
    <div class="form-field" style="margin-bottom: 2rem;">
      <app-file-upload
        (filesSelected)="onFilesSelected($event)"
        (error)="onFileError($event)"
      ></app-file-upload>
    </div>

    <!-- Email -->
    <div class="form-field" style="margin-bottom: 2rem;">
      <app-input
        label="E-MAIL"
        type="email"
        placeholder="deine@email.de"
        formControlName="email"
        [required]="true"
        [error]="getErrorMessage('email')"
      ></app-input>
    </div>

    <!-- WhatsApp -->
    <div class="form-field" style="margin-bottom: 2rem;">
      <label class="form-label-unified" style="margin-bottom: 0.75rem;">
        WHATSAPP NUMMER (GEWINNER WERDEN KONTAKTIERT)
        <span class="text-[#FF3D00] ml-1">*</span>
      </label>
      <div class="whatsapp-container flex gap-4">
        <input
          type="text"
          formControlName="whatsappCountryCode"
          placeholder="+49"
          class="whatsapp-code w-28 bg-[#1A1A1A] text-white border border-[#333333] rounded-xl
                 focus:border-[#FF3D00] focus:ring-2 focus:ring-[#FF3D00]/20 focus:outline-none
                 transition-all duration-200 text-center font-medium text-sm sm:text-base"
          style="padding: 0.9rem 1.25rem;"
        />
        <input
          type="tel"
          formControlName="whatsappNumber"
          placeholder="1516 4398197"
          class="whatsapp-number flex-1 bg-[#1A1A1A] text-white border border-[#333333] rounded-xl
                 focus:border-[#FF3D00] focus:ring-2 focus:ring-[#FF3D00]/20 focus:outline-none
                 transition-all duration-200 placeholder:text-[#666666] text-sm sm:text-base"
          style="padding: 0.9rem 1.25rem;"
        />
      </div>
      <p *ngIf="getErrorMessage('whatsappNumber')" class="text-[#F44336] text-xs" style="margin-top: 0.5rem; margin-left: 0.25rem;">
        {{ getErrorMessage('whatsappNumber') }}
      </p>
    </div>

    <!-- Opt-in Section -->
    <div class="opt-in-section bg-gradient-to-br from-[#1A1A1A] to-[#0A0A0A] border border-[#333333] rounded-2xl" style="padding: 1rem 0.5rem; margin-bottom: 2rem;">
      <p class="text-[#B0B0B0] font-medium uppercase text-center opt-in-text" style="margin-bottom: 1rem; padding: 0;">
        NACHDEM ALLE PLÄTZE VERGEBEN SIND, VERLOSEN WIR ZUSÄTZLICH 30 X 30% GUTSCHEINE.
        KLICKE JETZT AUF "JA, GERNE" FÜR DIE EXTRA CHANCE AUF EINEN GRATIS GUTSCHEIN
      </p>

      <!-- Custom Radio Options -->
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <label class="custom-radio-option">
          <input
            type="radio"
            formControlName="optInChoice"
            value="yes"
            class="custom-radio-input"
          />
          <span class="custom-radio-box">
            <svg class="custom-radio-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </span>
          <span class="custom-radio-label">
            JA GERNE, COOLE AKTION
          </span>
        </label>

        <label class="custom-radio-option">
          <input
            type="radio"
            formControlName="optInChoice"
            value="no"
            class="custom-radio-input"
          />
          <span class="custom-radio-box">
            <svg class="custom-radio-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </span>
          <span class="custom-radio-label">
            NEIN. ICH BIN NUR HIER UM ETWAS KOSTENLOSES ABZUSTAUBEN!
          </span>
        </label>
      </div>
    </div>

    <!-- Error Message -->
    <div *ngIf="error" class="error-message bg-[#F44336]/10 border border-[#F44336] text-[#F44336] rounded-xl" style="padding: 1rem 1.25rem; margin-bottom: 2rem;">
      {{ error }}
    </div>

    <!-- Submit -->
    <div class="submit-container" style="margin-top: 3.5rem; margin-bottom: 3rem; display: flex; justify-content: center;">
      <button
        type="submit"
        [disabled]="isLoading"
        class="submit-button-glass"
      >
        <span *ngIf="isLoading" class="inline-block animate-spin mr-2">⏳</span>
        {{ isLoading ? 'WIRD GESENDET...' : 'ABSENDEN' }}
      </button>
    </div>
</form>
